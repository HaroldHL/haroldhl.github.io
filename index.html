<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/faviconMedium.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon16.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Fake it utill you make it.">
<meta property="og:type" content="website">
<meta property="og:title" content="Harold&#39;s Zone">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;index.html">
<meta property="og:site_name" content="Harold&#39;s Zone">
<meta property="og:description" content="Fake it utill you make it.">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Harold's Zone</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Harold's Zone</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/02/09/The-basic-usage-of-DataTable/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harold Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Harold's Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/02/09/The-basic-usage-of-DataTable/" itemprop="url">The basic usage of DataTable</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-02-09T22:24:00+08:00">
                2021-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Development/" itemprop="url" rel="index">
                    <span itemprop="name">Development</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/02/09/The-basic-usage-of-DataTable/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2021/02/09/The-basic-usage-of-DataTable/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2021/02/09/The-basic-usage-of-DataTable/" class="leancloud_visitors" data-flag-title="The basic usage of DataTable">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  542
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>The stated goal of DataTable is “To enhance the accessibility of data in HTML tables”. End users need to be able to obtain useful information from the table as quickly as possible and for this DataTable has built in features such as ordering,searching and paging. In this section, I gonna summarize a basic way to render a datatable via ajax.</p>
<ul>
<li>To create a getReport function. In this function, we wil prepare the basic html table and call ajax to get the query</li>
<li>To call initDataTable function in the ajax callback function, you can see there are many configurations</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> _tableTemplate = [</span><br><span class="line">    <span class="string">'&lt;table class="table table-bordered table-hover rendered-dt doublescroll" data-excel="true" data-print="false"&gt;'</span>,</span><br><span class="line">    <span class="string">"&lt;thead&gt;"</span>,</span><br><span class="line">    <span class="string">'&lt;tr class="bg-active"&gt;&lt;/tr&gt;'</span>,</span><br><span class="line">    <span class="string">"&lt;/thead&gt;"</span>,</span><br><span class="line">    <span class="string">"&lt;tbody&gt;&lt;/tbody&gt;"</span>,</span><br><span class="line">    <span class="string">"&lt;/table&gt;"</span>,</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getReport</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $<span class="keyword">this</span> = $(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    $<span class="keyword">this</span>.attr(<span class="string">"disabled"</span>, <span class="literal">true</span>);</span><br><span class="line">    <span class="comment">//$('#SearchDiv').collapse('toggle');</span></span><br><span class="line">    $(<span class="string">"#reportResult"</span>)</span><br><span class="line">      .show()</span><br><span class="line">      .find(<span class="string">"&gt;.card-block"</span>)</span><br><span class="line">      .html(<span class="string">""</span>)</span><br><span class="line">      .before(<span class="string">'&lt;div class="loading"&gt;&lt;/div&gt;'</span>);</span><br><span class="line"></span><br><span class="line">    _filterParams = $(<span class="string">"#reportForm"</span>).serializeArray();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> data = _.concat(_filterParams, [</span><br><span class="line">      <span class="comment">/// ex:</span></span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">"outputType"</span>, <span class="attr">value</span>: <span class="string">"html"</span> &#125;,</span><br><span class="line">    ]);</span><br><span class="line">    $.<span class="keyword">get</span>(</span><br><span class="line">      "remoteproxy.cfm",</span><br><span class="line">      data,</span><br><span class="line">      function (res) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!res.success) &#123;</span><br><span class="line">          resetReport();</span><br><span class="line">          GS.fn.alert(res.message);</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        $(<span class="string">"#btnSearch"</span>).attr(<span class="string">"disabled"</span>, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> $target = $(<span class="string">"#reportResult&gt;.card-block"</span>).prev().remove().end();</span><br><span class="line">        <span class="keyword">var</span> $table = $(_tableTemplate.join(<span class="string">""</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> arrHeader = [];</span><br><span class="line">        <span class="keyword">var</span> columns = [];</span><br><span class="line"></span><br><span class="line">        _.each(res.data.columns, <span class="function"><span class="keyword">function</span> (<span class="params">column</span>) </span>&#123;</span><br><span class="line">          arrHeader.push(<span class="string">"&lt;th&gt;"</span> + column.label + <span class="string">"&lt;/th&gt;"</span>);</span><br><span class="line">          columns.push(&#123; <span class="attr">data</span>: column.name &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        $table</span><br><span class="line">          .find(<span class="string">"thead&gt;tr"</span>)</span><br><span class="line">          .append(arrHeader)</span><br><span class="line">          .end()</span><br><span class="line">          .appendTo($target)</span><br><span class="line">          .end()</span><br><span class="line">          .find(<span class="string">"tbody"</span>)</span><br><span class="line">          .append(</span><br><span class="line">            _.map(_.queryToArray(res.data.query), <span class="function"><span class="keyword">function</span> (<span class="params">rowdata</span>) </span>&#123;</span><br><span class="line">              <span class="keyword">var</span> $row = $(<span class="string">"&lt;tr&gt;&lt;/tr&gt;"</span>);</span><br><span class="line">              _.each(res.data.columns, <span class="function"><span class="keyword">function</span> (<span class="params">c</span>) </span>&#123;</span><br><span class="line">                $(<span class="string">"&lt;td&gt;&lt;/td&gt;"</span>)</span><br><span class="line">                  .html(formatOutput(c.name, rowdata))</span><br><span class="line">                  .appendTo($row);</span><br><span class="line">              &#125;);</span><br><span class="line">              <span class="keyword">return</span> $row;</span><br><span class="line">            &#125;)</span><br><span class="line">          );</span><br><span class="line">        <span class="comment">// call initDataTable function</span></span><br><span class="line">        initDataTable(res.data.recordsTotal, columns);</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">"json"</span></span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//config datatable</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">initDataTable</span>(<span class="params">recordsTotal, columns</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> buttons = [</span><br><span class="line">      &#123;</span><br><span class="line">        extend: <span class="string">"excelHtml5"</span>,</span><br><span class="line">        footer: <span class="literal">true</span>,</span><br><span class="line">        text: <span class="string">'&lt;i class="fa fa-file-excel-o" title="Download Excel"&gt;&lt;/i&gt;'</span>,</span><br><span class="line">        className: <span class="string">"mb-2"</span>,</span><br><span class="line">        action: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          pcc.fn.showExcelExportModal.call(<span class="keyword">this</span>, _filterParams);</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    $dt = $(<span class="string">"#reportResult table"</span>).DataTable(&#123;</span><br><span class="line">      serverSide: <span class="literal">true</span>,</span><br><span class="line">      deferLoading: recordsTotal,</span><br><span class="line">      searching: <span class="literal">false</span>,</span><br><span class="line">      ordering: <span class="literal">false</span>,</span><br><span class="line">      pageLength: pcc.pageLength.html,</span><br><span class="line">      lengthChange: <span class="literal">false</span>,</span><br><span class="line">      ajax: <span class="function"><span class="keyword">function</span> (<span class="params">data, callback, settings</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> params = [</span><br><span class="line">          &#123; <span class="attr">name</span>: <span class="string">"currentRow"</span>, <span class="attr">value</span>: data.start &#125;,</span><br><span class="line">          &#123; <span class="attr">name</span>: <span class="string">"nextRow"</span>, <span class="attr">value</span>: data.length &#125;,</span><br><span class="line">          &#123; <span class="attr">name</span>: <span class="string">"entityid"</span>, <span class="attr">value</span>: pcc.data.scope.entityID &#125;,</span><br><span class="line">          &#123; <span class="attr">name</span>: <span class="string">"cfcid"</span>, <span class="attr">value</span>: pcc.data.cfcID &#125;,</span><br><span class="line">          &#123; <span class="attr">name</span>: <span class="string">"method"</span>, <span class="attr">value</span>: <span class="string">"getReportData"</span> &#125;,</span><br><span class="line">          &#123; <span class="attr">name</span>: <span class="string">"outputType"</span>, <span class="attr">value</span>: <span class="string">"html"</span> &#125;,</span><br><span class="line">        ];</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">          url: <span class="string">"remoteProxy.cfm"</span>,</span><br><span class="line">          type: <span class="string">"get"</span>,</span><br><span class="line">          dataType: <span class="string">"json"</span>,</span><br><span class="line">          data: _.concat(_filterParams, params),</span><br><span class="line">        &#125;).done(<span class="function"><span class="keyword">function</span> (<span class="params">r</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">if</span> (r.success) &#123;</span><br><span class="line">            callback(&#123;</span><br><span class="line">              recordsTotal: r.data.recordsTotal,</span><br><span class="line">              recordsFiltered: r.data.recordsTotal,</span><br><span class="line">              data: _.map(_.queryToArray(r.data.query), <span class="function"><span class="keyword">function</span> (<span class="params">v, i</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> rv = &#123;&#125;;</span><br><span class="line">                _.each(r.data.columns, <span class="function"><span class="keyword">function</span> (<span class="params">c</span>) </span>&#123;</span><br><span class="line">                  rv[c.name] = formatOutput(c.name, v);</span><br><span class="line">                &#125;);</span><br><span class="line">                <span class="keyword">return</span> rv;</span><br><span class="line">              &#125;),</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            callback(&#123;</span><br><span class="line">              recordsTotal: <span class="number">0</span>,</span><br><span class="line">              recordsFiltered: <span class="number">0</span>,</span><br><span class="line">              data: [],</span><br><span class="line">            &#125;);</span><br><span class="line">            GS.fn.alert(r.message);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">      columns: columns,</span><br><span class="line">      buttons: buttons,</span><br><span class="line">    &#125;);</span><br><span class="line">    GS.fn.initComponents();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)(pcc || &#123;&#125;);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/17/Json-in-MSSQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harold Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Harold's Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/17/Json-in-MSSQL/" itemprop="url">JSON in MSSQL</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-01-17T21:27:29+08:00">
                2021-01-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SQL/" itemprop="url" rel="index">
                    <span itemprop="name">SQL</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/01/17/Json-in-MSSQL/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2021/01/17/Json-in-MSSQL/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2021/01/17/Json-in-MSSQL/" class="leancloud_visitors" data-flag-title="JSON in MSSQL">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  313
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Json is a popular textual data format that’s used for exchanging data in modern web and mobile applications. In a recent project, we have a set of data needed to be stored into DB. Instead of creating many columns, we decided to group them into JSON format as they are all the same type from business perspective.</p>
<p>After researching the MSSQL document, There is a function named <strong>OPENJSON</strong> which is quite useful. The <strong>OPENJSON</strong> rowset function converts JSON text into a set of rows and columns. After you transform a JSON collection into a rowset with <strong>OPENJSON</strong>, you can run any SQL query on the returned data or insert it into a SQL Server table.The <strong>OPENJSON</strong> function takes a single JSON object or a collection of JSON objects and transforms them into one or more rows. By default, the <strong>OPENJSON</strong> function returns the following data:</p>
<ul>
<li>From a JSON object, the function returns all the key/value pairs that it finds at the first level.</li>
<li>From a JSON array, the function returns all the elements of the array with their indexes.</li>
</ul>
<p>Here’s a quick example that uses <strong>OPENJSON</strong> with a schema for the output that you explicitly specify in the <strong>WITH</strong> clause.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span> @<span class="keyword">json</span> <span class="keyword">NVARCHAR</span>(<span class="keyword">MAX</span>)</span><br><span class="line"><span class="keyword">SET</span> @<span class="keyword">json</span> =</span><br><span class="line">  N<span class="string">'[</span></span><br><span class="line"><span class="string">       &#123;</span></span><br><span class="line"><span class="string">         "Order": &#123;</span></span><br><span class="line"><span class="string">           "Number":"SO43659",</span></span><br><span class="line"><span class="string">           "Date":"2011-05-31T00:00:00"</span></span><br><span class="line"><span class="string">         &#125;,</span></span><br><span class="line"><span class="string">         "AccountNumber":"AW29825",</span></span><br><span class="line"><span class="string">         "Item": &#123;</span></span><br><span class="line"><span class="string">           "Price":2024.9940,</span></span><br><span class="line"><span class="string">           "Quantity":1</span></span><br><span class="line"><span class="string">         &#125;</span></span><br><span class="line"><span class="string">       &#125;,</span></span><br><span class="line"><span class="string">       &#123;</span></span><br><span class="line"><span class="string">         "Order": &#123;</span></span><br><span class="line"><span class="string">           "Number":"SO43661",</span></span><br><span class="line"><span class="string">           "Date":"2011-06-01T00:00:00"</span></span><br><span class="line"><span class="string">         &#125;,</span></span><br><span class="line"><span class="string">         "AccountNumber":"AW73565",</span></span><br><span class="line"><span class="string">         "Item": &#123;</span></span><br><span class="line"><span class="string">           "Price":2024.9940,</span></span><br><span class="line"><span class="string">           "Quantity":3</span></span><br><span class="line"><span class="string">         &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string"> ]'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span></span><br><span class="line"> OPENJSON ( @<span class="keyword">json</span> )</span><br><span class="line"><span class="keyword">WITH</span> (</span><br><span class="line">              <span class="built_in">Number</span>   <span class="built_in">varchar</span>(<span class="number">200</span>) <span class="string">'$.Order.Number'</span> ,</span><br><span class="line">              <span class="built_in">Date</span>     datetime     <span class="string">'$.Order.Date'</span>,</span><br><span class="line">              Customer <span class="built_in">varchar</span>(<span class="number">200</span>) <span class="string">'$.AccountNumber'</span>,</span><br><span class="line">              Quantity <span class="built_in">int</span>          <span class="string">'$.Item.Quantity'</span></span><br><span class="line"> )</span><br></pre></td></tr></table></figure>

<p><strong>Results</strong></p>
<table>
<thead>
<tr>
<th align="left">Number</th>
<th align="left">Date</th>
<th align="left">Customer</th>
<th align="left">Quantity</th>
</tr>
</thead>
<tbody><tr>
<td align="left">SO43659</td>
<td align="left">2011-05-31T00:00:00</td>
<td align="left">AW29825</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">SO43661</td>
<td align="left">2011-06-01T00:00:00</td>
<td align="left">AW73565</td>
<td align="left">3</td>
</tr>
</tbody></table>
<p>With this function, we can easily manipulate the jsondata in your select clause.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/02/How-to-solve-timeout-of-your-Application/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harold Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Harold's Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/02/How-to-solve-timeout-of-your-Application/" itemprop="url">How to solve timeout of your application?</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-02T14:49:44+08:00">
                2020-08-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Development/" itemprop="url" rel="index">
                    <span itemprop="name">Development</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/08/02/How-to-solve-timeout-of-your-Application/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/08/02/How-to-solve-timeout-of-your-Application/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/08/02/How-to-solve-timeout-of-your-Application/" class="leancloud_visitors" data-flag-title="How to solve timeout of your application?">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  394
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>Get the information from the monitoring tool</p>
<p>Here, I’d like to introduce a tool for real-time monitoring of App performance called <em>Fusion Reactor</em>.</p>
<p>FusionReactor is the only APM (Application Performance Monitor) which includes high-level instrumentation combined with low-level profiling and <a href="http://www.fusion-reactor.com/production-debugger-3/" target="_blank" rel="noopener">debugging</a> and can be used right across the whole Software Development Life Cycle (SDLC). FusionReactor gives developers and DevOps the level of depth and insight to instantly identify <a href="http://www.fusion-reactor.com/java-monitoring/" target="_blank" rel="noopener">Java application</a> issues.</p>
<ul>
<li>The System Monitor will keep track of system resources, such as CPU and memory usage, as well as Network Traffic and Disk I/O – it will also alert you when you’ve reached disk space capacity</li>
<li>FusionReactor analyzes and captures all the data related to your SQL statements so you can focus on improving performance and reducing bottlenecks. See right down to which SQL statements were run, number of rows returned, time spent on the query etc.</li>
<li>…</li>
</ul>
<p>Wth the help of Fusion Reactor, you can get the performance monitor, database monitoring, memory profiler etc.</p>
</li>
<li><p>How can I use Fusion Reactor to Debug?</p>
<p>Each time you send a ajax call you will get response in the network. Fusion Reactor http link exists in the HTTP response.</p>
</li>
<li><p>Common timeout issues</p>
<p>A function of changing Database in the loop of other function will cause the timeout. For example, I’m going to send 100+ reminder Emails to different users. So I may have a loop that goes throung like 100+ times. In each loop, I might call another function that records the ID sent each time and executes the sql each time. That means you will find 100+ SQL records in Fustion Reactor. Each execution consumes time and performance. And in the Fusion Reactor, you will find 100+ same SQL statements. Think about like 1000+ , There will be a lot of stress on the server.</p>
</li>
<li><p>How to solve this?</p>
<p>Rewrite the update function in the main loop. So each time, you will get the Different ID and data you need. We can store these data into an array or sql statement. When the main loop end, then we execute batch update operation.</p>
<p>For example:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Updated_Array[</span><br><span class="line">  &#123;"id":1,"name":"Mars"&#125;,</span><br><span class="line">  &#123;"id":2,"name":"Jack"&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">Update</span> xxx</span><br><span class="line"><span class="keyword">set</span> (column1, column2,...)</span><br><span class="line"><span class="keyword">values</span>(</span><br><span class="line"><span class="keyword">loop</span> Updated_Array</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>Changing the data modal like this, Then you will get only one SQL record in the Fusion Reactor.</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/01/JavaScript-Template/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harold Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Harold's Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/01/JavaScript-Template/" itemprop="url">JavaScript Template</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-01T11:29:35+08:00">
                2020-08-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Development/" itemprop="url" rel="index">
                    <span itemprop="name">Development</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Development/Plugin/" itemprop="url" rel="index">
                    <span itemprop="name">Plugin</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/08/01/JavaScript-Template/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/08/01/JavaScript-Template/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/08/01/JavaScript-Template/" class="leancloud_visitors" data-flag-title="JavaScript Template">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  514
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Lodash is a light js library which has many useful functions. With Lodash, you may can save a lot of time to figure out how to write Regex, manipulate a string or an array etc.</p>
<p>In our daily development, We often come across situations where we need to insert a large piece of repeated HTML with different data. For instance, I met a project which needs design a tree structure form. I gonna show you how to use the JS template to create a page. Also please check the Lodash documentation for more details</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_.template([(string = <span class="string">""</span>)], [(options = &#123;&#125;)]);</span><br></pre></td></tr></table></figure>

<p>Creates a compiled template function that can interpolate data properties in “interpolate” delimiters, HTML-escape interpolated data properties in “escape” delimiters, and execute JavaScript in “evaluate” delimiters. Data properties may be accessed as free variables in the template. If a setting object is given, it takes precedence over <a href="https://lodash.com/docs/#templateSettings" target="_blank" rel="noopener"><code>_.templateSettings</code></a> values.</p>
<h4 id="Returns"><a href="#Returns" class="headerlink" title="Returns"></a>Returns</h4><p>Return the compiled template function.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Use the "interpolate" delimiter to create a compiled template.</span></span><br><span class="line"><span class="keyword">var</span> compiled = _.template(<span class="string">"hello &lt;%= user %&gt;!"</span>);</span><br><span class="line">compiled(&#123; <span class="attr">user</span>: <span class="string">"fred"</span> &#125;);</span><br><span class="line"><span class="comment">// =&gt; 'hello fred!'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Use the HTML "escape" delimiter to escape data property values.</span></span><br><span class="line"><span class="keyword">var</span> compiled = _.template(<span class="string">"&lt;b&gt;&lt;%- value %&gt;&lt;/b&gt;"</span>);</span><br><span class="line">compiled(&#123; <span class="attr">value</span>: <span class="string">"&lt;script&gt;"</span> &#125;);</span><br><span class="line"><span class="comment">// =&gt; '&lt;b&gt;&amp;lt;script&amp;gt;&lt;/b&gt;'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Use the "evaluate" delimiter to execute JavaScript and generate HTML.</span></span><br><span class="line"><span class="keyword">var</span> compiled = _.template(</span><br><span class="line">  <span class="string">"&lt;% _.forEach(users, function(user) &#123; %&gt;&lt;li&gt;&lt;%- user %&gt;&lt;/li&gt;&lt;% &#125;); %&gt;"</span></span><br><span class="line">);</span><br><span class="line">compiled(&#123; <span class="attr">users</span>: [<span class="string">"fred"</span>, <span class="string">"barney"</span>] &#125;);</span><br><span class="line"><span class="comment">// =&gt; '&lt;li&gt;fred&lt;/li&gt;&lt;li&gt;barney&lt;/li&gt;'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Use the internal `print` function in "evaluate" delimiters.</span></span><br><span class="line"><span class="keyword">var</span> compiled = _.template(<span class="string">'&lt;% print("hello " + user); %&gt;!'</span>);</span><br><span class="line">compiled(&#123; <span class="attr">user</span>: <span class="string">"barney"</span> &#125;);</span><br><span class="line"><span class="comment">// =&gt; 'hello barney!'</span></span><br></pre></td></tr></table></figure>

<p>Although there are different levels of each component, but they are more likely to use the same filelds with different data source. So JS template provides a good way of solving this problem. My original approach was to use SSR that returning large chunks of HTML code to client side. But this kind of way is stupid and it takes time when you refresh the page. The following codes would tell you how to use the JS template rendering your page.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//&lt;div id="example1"&gt;&lt;/div&gt;</span></span><br><span class="line">&lt;script type=<span class="string">"text/template"</span> id=<span class="string">"tpl1"</span>&gt;</span><br><span class="line">&lt;% _.each(datas, <span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123; %&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"outer"</span>&gt;</span><br><span class="line">        &lt;%= item.film %&gt; - <span class="xml"><span class="tag">&lt;<span class="name">%=</span> <span class="attr">item.url</span> %&gt;</span> - <span class="tag">&lt;<span class="name">%=</span> <span class="attr">item.director</span> %&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;% &#125;); %&gt;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script type="text/</span>template<span class="string">" id="</span>tpl2<span class="string">"&gt;</span></span><br><span class="line"><span class="string">&lt;% if ( 2 + 4 === 6 ) &#123;</span></span><br><span class="line"><span class="string">    _.each(datas, function (item) &#123; %&gt;</span></span><br><span class="line"><span class="string">        &lt;div class="</span>outer<span class="string">"&gt;</span></span><br><span class="line"><span class="string">            &lt;%= item.film %&gt; - &lt;%= item.url %&gt; - &lt;%= item.director %&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;% &#125;);</span></span><br><span class="line"><span class="string">&#125; %&gt;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">var data = [</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        film: 'film1',</span></span><br><span class="line"><span class="string">        url: '',</span></span><br><span class="line"><span class="string">        director: 'Alan'</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        film: 'film2',</span></span><br><span class="line"><span class="string">        url: '',</span></span><br><span class="line"><span class="string">        director: 'Bob'</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        film: 'film3',</span></span><br><span class="line"><span class="string">        url: '',</span></span><br><span class="line"><span class="string">        director: 'Cindy'</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">];</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">$('#example1').html( _.template($('#tpl1').html(), data) );</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/21/SQL-Tips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harold Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Harold's Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/21/SQL-Tips/" itemprop="url">SQL Tips</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-21T20:18:09+08:00">
                2020-05-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SQL/" itemprop="url" rel="index">
                    <span itemprop="name">SQL</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/05/21/SQL-Tips/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/05/21/SQL-Tips/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/05/21/SQL-Tips/" class="leancloud_visitors" data-flag-title="SQL Tips">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  269
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Why do I need an ‘N’ in front of a string?</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> XXX <span class="keyword">with</span>(NOLOCK)</span><br><span class="line"><span class="keyword">WHERE</span> xxx = N<span class="string">'xxx'</span></span><br></pre></td></tr></table></figure>
<p>The N’ xxx’ symbol converts xxx in single quotation marks to Unicode encoded characters. This can avoid garbled characters in Chinese.<br>In English, ASCII code is commonly used (one character takes up one byte), while in Chinese, one character takes up two bytes. We want to unify the two cases. So we have to use Unicode encoded.</p>
<p>Unicode strings are formatted like normal strings, but they are preceded by an N identifier (N stands for National Language in the sql-92 standard).The N prefix must be uppercase.</p>
<p><strong><em>No Lock</em> Impact</strong></p>
<p>The default behavior in SQL Server is for every query to acquire its own shared lock prior to reading data from a given table. This behavior ensures that you are only reading committed data. However, the NOLOCK table hint allows you to instruct the query optimiser to read a given table without obtaining an exclusive or shared lock.</p>
<p>For the NOLOCK table hint specifically, reading uncommitted data that could be rolled back after you have read it can lead to a Dirty read, which can occur when reading the data that is being modified or deleted during the uncommitted data read, so that the data you read could be different, or never even have existed.<br>The WITH (NOLOCK) table hint also leads to Nonrepeatable reads; this read occurs when it is required to read the same data multiple times and the data changes during these readings. In this case, you will read multiple versions of the same row.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/17/Different-SQL-Int-types/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harold Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Harold's Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/17/Different-SQL-Int-types/" itemprop="url">Different SQL Int types</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-17T22:30:23+08:00">
                2020-05-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SQL/" itemprop="url" rel="index">
                    <span itemprop="name">SQL</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/05/17/Different-SQL-Int-types/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/05/17/Different-SQL-Int-types/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/05/17/Different-SQL-Int-types/" class="leancloud_visitors" data-flag-title="Different SQL Int types">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  143
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Different SQL int Types</strong></p>
<table>
<thead>
<tr>
<th><strong>Data type</strong></th>
<th><strong>Range</strong></th>
<th><strong>Storage</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>bigint</strong></td>
<td>-2^63 (-9,223,372,036,854,775,808) to 2^63-1 (9,223,372,036,854,775,807)</td>
<td>8 Bytes</td>
</tr>
<tr>
<td><strong>int</strong></td>
<td>-2^31 (-2,147,483,648) to 2^31-1 (2,147,483,647)</td>
<td>4 Bytes</td>
</tr>
<tr>
<td><strong>smallint</strong></td>
<td>-2^15 (-32,768) to 2^15-1 (32,767)</td>
<td>2 Bytes</td>
</tr>
<tr>
<td><strong>tinyint</strong></td>
<td>0 to 255</td>
<td>1 Byte</td>
</tr>
</tbody></table>
<ul>
<li>Impact<ul>
<li>Selecting the correct data type while creating a table is very critical. In-correct selection of the data type will result in performance and storage issues over the times as the data grows.</li>
<li>if we choose INT data type then it will always take 4 bytes for storing it irrespective of the value stored in it. Whereas TINYINT would have taken 1 byte for storing the same value and SMALLINT would have taken 2 bytes. </li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/17/why-we-need-uuid/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harold Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Harold's Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/17/why-we-need-uuid/" itemprop="url">Why we need uuid?</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-17T22:25:46+08:00">
                2020-05-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SQL/" itemprop="url" rel="index">
                    <span itemprop="name">SQL</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/05/17/why-we-need-uuid/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/05/17/why-we-need-uuid/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/05/17/why-we-need-uuid/" class="leancloud_visitors" data-flag-title="Why we need uuid?">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  261
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>UUID</strong></p>
<p>A <strong>universally unique identifier</strong> (<strong>UUID</strong>) is a <a href="https://en.wikipedia.org/wiki/128-bit" target="_blank" rel="noopener">128-bit</a> number used to identify information in computer systems.</p>
<ul>
<li><em>why we need apply UUID?</em></li>
</ul>
<p>When generated according to the standard methods, UUIDs are for practical purposes unique. Their uniqueness does not depend on a central registration authority or coordination between the parties generating them, unlike most other numbering schemes. While the <a href="https://en.wikipedia.org/wiki/Probability" target="_blank" rel="noopener">probability</a> that a UUID will be duplicated is not zero, it is close enough to zero to be negligible.</p>
<ul>
<li><p>Versions</p>
<ul>
<li>Version 1 (date-time and MAC address)</li>
<li>Version 2 (date-time and MAC address, DCE security version)</li>
<li>Version 3 and 5 (namespace name-based)</li>
<li>Version 4(random)</li>
</ul>
</li>
<li><p>Use Scenarios</p>
<ul>
<li><p>As database keys</p>
<p>UUIDs are commonly used as a <a href="https://en.wikipedia.org/wiki/Unique_key" target="_blank" rel="noopener">unique key</a> in <a href="https://en.wikipedia.org/wiki/Database" target="_blank" rel="noopener">database</a> tables. The NEWID function in <a href="https://en.wikipedia.org/wiki/Microsoft_SQL_Server" target="_blank" rel="noopener">Microsoft SQL Server</a> version 4 <a href="https://en.wikipedia.org/wiki/Transact-SQL" target="_blank" rel="noopener">Transact-SQL</a> returns standard random version-4 UUIDs, while the NEWSEQUENTIALID function returns 128-bit identifiers similar to UUIDs which are committed to ascend in sequence until the next system reboot.SYS_GUID function does not return a standard GUID, despite the name. Instead, it returns a 16-byte 128-bit RAW value based on a host identifier and a process or thread identifier, somewhat similar to a GUID. PostgreSQL contains a UUID datatype and can generate most versions of UUIDs through the use of functions from modules.MySQL provides a UUID function, which generates standard version-1 UUIDs.</p>
</li>
</ul>
</li>
<li><p>How can I generate a UUID？</p>
<ul>
<li>The NEWID function in <a href="https://en.wikipedia.org/wiki/Microsoft_SQL_Server" target="_blank" rel="noopener">Microsoft SQL Server</a> version 4 <a href="https://en.wikipedia.org/wiki/Transact-SQL" target="_blank" rel="noopener">Transact-SQL</a> returns standard random version-4 UUIDs</li>
<li>Adobe Coldfusion function: createUUID() </li>
<li>Python:  import uuid module</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/24/Asynchronous-Javascript-Example/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harold Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Harold's Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/24/Asynchronous-Javascript-Example/" itemprop="url">Asynchronous Javascript Example</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-24T23:22:55+08:00">
                2020-04-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Development/" itemprop="url" rel="index">
                    <span itemprop="name">Development</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/04/24/Asynchronous-Javascript-Example/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/04/24/Asynchronous-Javascript-Example/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/04/24/Asynchronous-Javascript-Example/" class="leancloud_visitors" data-flag-title="Asynchronous Javascript Example">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  609
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Background:</strong></p>
<p>I recently received an assignment to develop a new feature. Basically, this application has different types of data layers. When you click one of them, it will send a ajax and return detailed content for this data layer. After selecting all the filters you wanted in the detailed content, Click the button and then it will getting  Mapping data based on your filters. There are like more than 6 data layers you can operate them. Also multiple data layers’ results can be added up together. See the pseudocode below：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> initFilter = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  $.ajax(&#123;&#125;)</span><br><span class="line">  <span class="comment">//get one data layer filters</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> filters = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">  	<span class="comment">//get Data  </span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>I need copy the URL that gather all the filters under each data layer and paste the new tab, then it will load all the data which user got it in the prevous tab. So this feature would be two parts: Copying and Loading Data.</p>
<p><strong>Solution:</strong></p>
<p>Copy one:</p>
<ul>
<li>Using this kind of data structure:</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">copyme</span>(<span class="params"></span>)</span>&#123;      </span><br><span class="line">    <span class="keyword">var</span> urlparams = &#123;</span><br><span class="line">      <span class="string">"ajaxType_site"</span> : [],</span><br><span class="line">      <span class="string">"ajaxType_UIReport"</span> : $(<span class="string">'#row-UIReport'</span>).find(<span class="string">"input,select"</span>).serializeArray(),</span><br><span class="line">      <span class="string">"ajaxType_im_case"</span> : $(<span class="string">'#row-im_case'</span>).find(<span class="string">"input,select"</span>).serializeArray(),</span><br><span class="line">      <span class="string">"ajaxType_im_event"</span> : $(<span class="string">'#row-im_event'</span>).find(<span class="string">"input,select"</span>).serializeArray(),</span><br><span class="line">      <span class="string">"ajaxType_fom"</span> : $(<span class="string">'#row-fom'</span>).find(<span class="string">"input,select"</span>).serializeArray(),</span><br><span class="line">      <span class="string">"ajaxType_concern"</span> : $(<span class="string">'#row-concern'</span>).find(<span class="string">"input,select"</span>).serializeArray(),</span><br><span class="line">      <span class="string">"ajaxType_pit"</span> : $(<span class="string">'#row-pit'</span>).find(<span class="string">"input,select"</span>).serializeArray(),</span><br><span class="line">      <span class="string">"ajaxType_action"</span> : $(<span class="string">'#row-action'</span>).find(<span class="string">"input,select"</span>).serializeArray(),</span><br><span class="line">      <span class="string">"ajaxType_auditor"</span> : $(<span class="string">'#row-auditor'</span>).find(<span class="string">"input,select"</span>).serializeArray()</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> copyurl = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(copyurl);</span><br><span class="line">    <span class="keyword">var</span> url = <span class="keyword">new</span> URL(<span class="built_in">window</span>.location.href);</span><br><span class="line">    <span class="keyword">var</span> params = <span class="keyword">new</span> URLSearchParams(url.search.slice(<span class="number">1</span>));</span><br><span class="line">    text = location.href.split(<span class="string">'?'</span>)[<span class="number">0</span>] + <span class="string">'?'</span> + params.toString();</span><br><span class="line">  	copyurl.value = text + <span class="string">'&amp;loadmap=1'</span> + <span class="string">'&amp;params='</span> + <span class="built_in">JSON</span>.stringify(urlparams);</span><br><span class="line">    copyurl.select();</span><br><span class="line">    <span class="built_in">document</span>.execCommand(<span class="string">'copy'</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.removeChild(copyurl);</span><br><span class="line">    alert(<span class="string">'URL copied to clipboard.'</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>Loading Data:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> loadMap = <span class="function"><span class="keyword">function</span> (<span class="params">boolean</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> thisurl = <span class="keyword">new</span> URL(<span class="built_in">window</span>.location.href);</span><br><span class="line">    <span class="keyword">var</span> copyurl = <span class="built_in">decodeURI</span>(thisurl.search.slice(<span class="number">1</span>))</span><br><span class="line">    <span class="keyword">if</span> (GS.fn.getUrlParam(<span class="string">'loadmap'</span>)) &#123;</span><br><span class="line">      <span class="keyword">var</span> search = <span class="string">"params="</span></span><br><span class="line">      <span class="keyword">var</span> start = copyurl.indexOf(search);</span><br><span class="line">      <span class="keyword">var</span> params = copyurl.substring(start, start + copyurl.length)</span><br><span class="line">      <span class="keyword">var</span> paramsObjString = params.substr(<span class="number">7</span>)</span><br><span class="line">      <span class="keyword">var</span> paramsObj = <span class="built_in">JSON</span>.parse(paramsObjString)</span><br><span class="line">      <span class="keyword">if</span>(boolean)&#123;</span><br><span class="line">        <span class="comment">// detailed content in each data Layer</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> item <span class="keyword">in</span> paramsObj) &#123;</span><br><span class="line">          <span class="keyword">if</span> (paramsObj[item].length !== <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> paramsObj[item]) &#123;</span><br><span class="line">              <span class="keyword">switch</span> (paramsObj[item][i].name) &#123;</span><br><span class="line">                <span class="comment">//Data layer one</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">"siteid"</span>:</span><br><span class="line">                  <span class="keyword">var</span> select2Data = _.split(paramsObj[item][i].value, <span class="string">'&amp;'</span>);</span><br><span class="line">                  <span class="keyword">var</span> newOption = <span class="keyword">new</span> Option(select2Data[<span class="number">1</span>], select2Data[<span class="number">0</span>], <span class="literal">true</span>, <span class="literal">true</span>);</span><br><span class="line">                  $(<span class="string">'select[name="siteid"]'</span>).append(newOption).trigger(<span class="string">'change'</span>);</span><br><span class="line">                  <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">//Data layer two</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">"UI_Type"</span>:</span><br><span class="line">                  <span class="keyword">if</span>(paramsObj[item][i].value ==<span class="string">'byUser'</span>)&#123;</span><br><span class="line">                    $(<span class="string">'#UI_byUser'</span>).prop(<span class="string">'checked'</span>,<span class="literal">true</span>);</span><br><span class="line">                    $(<span class="string">'#UI_byUser_Input'</span>).removeClass(<span class="string">'hidden-xs-up'</span>);</span><br><span class="line">                    $(<span class="string">'#UI_byUser_dropdown'</span>).removeAttr(<span class="string">"disabled"</span>);</span><br><span class="line">                    $(<span class="string">'#UI_bySite'</span>).prop(<span class="string">'checked'</span>,<span class="literal">false</span>);</span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">//...</span></span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                  $(<span class="string">'input[name="'</span>+ paramsObj[item][i].name +<span class="string">'"]'</span>).val(paramsObj[item][i].value);</span><br><span class="line">                  </span><br><span class="line">                 $(<span class="string">'select[name="'</span>+ paramsObj[item][i].name +<span class="string">'"]'</span>).val(paramsObj[item][i].value);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// init filter</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> item <span class="keyword">in</span> paramsObj) &#123;</span><br><span class="line">          		<span class="keyword">if</span> (paramsObj[item].length !== <span class="number">0</span>) &#123;</span><br><span class="line">              &#125;</span><br><span class="line">              </span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Loading Map function has two parts: Init Filter and detailed content in each data Layer.</li>
<li>There is a sequencing problem: I have to let the “init data Layer” completed then detailed content can be filled in each data Layer.</li>
<li>Based on the asynchronization of JavaScript, I use loading Map function after ajax callback:</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> initFilter = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">    <span class="comment">//get one data layer filters</span></span><br><span class="line">  &#125;).done(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">    loadMap(<span class="literal">false</span>)  <span class="comment">// init filter</span></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'.Filters'</span>).find(<span class="string">'div[data-action="map-data"]:visible'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      $(<span class="keyword">this</span>).trigger(<span class="string">'click'</span>)&#125;) <span class="comment">// trigger each layer's button to get the data.</span></span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> filters = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">  	<span class="comment">//get Data  </span></span><br><span class="line">  &#125;).done(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">    loadMap(<span class="literal">true</span>) <span class="comment">//detailed content in each data Layer</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/24/Google-Maps-API-Marker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harold Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Harold's Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/24/Google-Maps-API-Marker/" itemprop="url">Google Maps API Marker</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-24T23:16:39+08:00">
                2020-04-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Development/" itemprop="url" rel="index">
                    <span itemprop="name">Development</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/04/24/Google-Maps-API-Marker/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/04/24/Google-Maps-API-Marker/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/04/24/Google-Maps-API-Marker/" class="leancloud_visitors" data-flag-title="Google Maps API Marker">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  377
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Background:</strong></p>
<p>For a Google Maps based project with a lot of markers, especially this application has over 7 types Markers.</p>
<p>Google Maps API mentioned that:</p>
<p><i>Markers can display custom images, in which case they are usually referred to as “icons.” Markers and icons are objects of type <code>Marker</code>. You can set a custom icon within the marker’s constructor, or by calling <code>setIcon()</code> on the marker</i></p>
<p>Our goal is to make every single ajax-call marker with different colors. Apart from the css filter method, We both know that img file cannot be modified by css. </p>
<p><strong>Solution:</strong></p>
<p>we can use the svg to make this happen.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Marker = <span class="function"><span class="keyword">function</span> (<span class="params">id, markerData, config </span>)</span>&#123;</span><br><span class="line">    <span class="comment">//this._config = config;</span></span><br><span class="line">    <span class="keyword">this</span>._id = id;</span><br><span class="line">    <span class="keyword">this</span>._data = &#123;&#125;;</span><br><span class="line">    <span class="keyword">this</span>._gMarker;</span><br><span class="line">    <span class="keyword">this</span>._color = config.markerColor; <span class="comment">// Each Ajax call to get a different color</span></span><br><span class="line">    <span class="keyword">this</span>._name = config.name;</span><br><span class="line">    <span class="keyword">this</span>._type = config.type;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.prepareData(markerData, config);</span><br><span class="line">    <span class="keyword">this</span>.create(config);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Marker.prototype.create = <span class="function"><span class="keyword">function</span>(<span class="params">config</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">var</span> svgPath = <span class="string">"M41.54,17.652c0-9.012-7.296-16.318-16.289-16.318c-8.994,0-16.291,7.306-16.291,16.318c0,3.558,1.605,6.57,3.069,9.532c2.55,5.158,7.249,13.28,9.723,17.675c0.633,1.125,2.088,1.989,3.908,1.98c1.62-0.009,3.054-0.85,3.675-1.976c2.421-4.392,6.555-11.449,9.376-17.734C39.854,24.136,41.54,21.187,41.54,17.652z M25.25,12.312c2.949,0,5.34,2.391,5.34,5.34c0,2.948-2.391,5.339-5.34,5.339s-5.34-2.391-5.34-5.339C19.91,14.903,22.301,12.312,25.25,12.312z"</span>;</span><br><span class="line">  <span class="keyword">var</span> appMarkerIcon = &#123;</span><br><span class="line">    path: svgPath,</span><br><span class="line">    fillColor: <span class="keyword">this</span>._color,</span><br><span class="line">    fillOpacity: <span class="number">1</span>,</span><br><span class="line">    anchor: <span class="keyword">new</span> google.maps.Point(<span class="number">0</span>,<span class="number">0</span>),</span><br><span class="line">    strokeWeight: <span class="number">0</span>,</span><br><span class="line">    scale: <span class="number">0.6</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> markerOptions = &#123;</span><br><span class="line">      map: config.map,</span><br><span class="line">      position: <span class="keyword">new</span> google.maps.LatLng(<span class="keyword">this</span>._data.latitude, <span class="keyword">this</span>._data.longitude),</span><br><span class="line">      title: <span class="keyword">this</span>._data.title, </span><br><span class="line">      zIndex: <span class="built_in">Math</span>.round(-<span class="keyword">this</span>._data.latitude * <span class="number">100000</span>),</span><br><span class="line">      icon: config.icon ? config.icon : appMarkerIcon</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> marker = <span class="keyword">new</span> google.maps.Marker(markerOptions);</span><br></pre></td></tr></table></figure>



<p><strong>As we have our SVG in JavaScript now, it is easy to construct it dynamically~</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/11/Input-and-Select-Compatibility-problems-with-IE-Edge/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harold Yin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Harold's Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/11/Input-and-Select-Compatibility-problems-with-IE-Edge/" itemprop="url">Input and Select  Compatibility problems with IE/Edge</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-11T23:40:43+08:00">
                2020-04-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Development/" itemprop="url" rel="index">
                    <span itemprop="name">Development</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/04/11/Input-and-Select-Compatibility-problems-with-IE-Edge/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/04/11/Input-and-Select-Compatibility-problems-with-IE-Edge/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/04/11/Input-and-Select-Compatibility-problems-with-IE-Edge/" class="leancloud_visitors" data-flag-title="Input and Select  Compatibility problems with IE/Edge">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  224
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>I recently encountered compatibility problems with IE and Edge Browser. </p>
<ul>
<li>Number type Input does not work in both browser.</li>
<li>Select added with jquery is not displayed in IE</li>
</ul>
<p>Basically, IE and Edge don’t support having increment/decrement buttons for input type number.And IE does not support jQuery selector like：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'input[type="number"]'</span>)</span><br></pre></td></tr></table></figure>

<p>The problem is with the page’s browser mode. The previous codes set the IE mode to 8. To my surprise, It does not appear in the first time, but when you open the dev tools on the IE browser and refresh page again, it appears magically and No error on the console. What I am doing is try replacing these codes at the top of the page within the <head> and set mode to ‘Edge’ mode. Then the select will appear in the first time.</p>
<p>Apart from that, The number type input still does not working in IE and Edge. Then I found a <a href="https://github.com/jonstipe/number-polyfill" target="_blank" rel="noopener">plugin</a> in Github which can solve this problem. You can import this js file and make it work.  </p>
<p>In the case of the number field. you can also bind an event listening on keydown for the input field to validate that it is a number or . being entered if you allow decimal input.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onkeypress=<span class="string">"return event.keycode&gt;=4&amp;&amp;event.keycode&lt;57"</span></span><br></pre></td></tr></table></figure>



          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next Page</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.JPG"
                alt="Harold Yin" />
            
              <p class="site-author-name" itemprop="name">Harold Yin</p>
              <p class="site-description motion-element" itemprop="description">Fake it utill you make it.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">24</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/HaroldHL" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:haroldyin@outlook.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.facebook.com/HaroldYin" target="_blank" title="Facebook">
                      
                        <i class="fa fa-fw fa-facebook"></i>Facebook</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.linkedin.com/in/haole-harold-yin-babb18169/" target="_blank" title="Linkedin">
                      
                        <i class="fa fa-fw fa-linkedin"></i>Linkedin</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      


      
      <script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
      <script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
      <div class="widget-wrap">
          <h3 class="widget-title">Tag Cloud</h3>
          <div id="myCanvasContainer" class="widget tagcloud">
              <canvas width="250" height="250" id="resCanvas" style="width=100%">
                  <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AWS/" rel="tag">AWS</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithm/" rel="tag">Algorithm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cloud-Computing/" rel="tag">Cloud Computing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Development/" rel="tag">Development</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Devops/" rel="tag">Devops</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Entertainment/" rel="tag">Entertainment</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPG/" rel="tag">GPG</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/" rel="tag">Github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Homebrew/" rel="tag">Homebrew</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Json/" rel="tag">Json</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PDLP/" rel="tag">PDLP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Plugin/" rel="tag">Plugin</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UUID/" rel="tag">UUID</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/encryption/" rel="tag">encryption</a><span class="tag-list-count">1</span></li></ul>
              </canvas>
          </div>
      </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Harold Yin</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">Totalcount: 9.8k</span>
</div>
        
<div class="busuanzi-count">
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
     You are the <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>th visitor
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      Total <span class="busuanzi-value" id="busuanzi_value_site_pv"></span> Views
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'OnRtOmYow0AXXtzkFGvlYQge-gzGzoHsz',
        appKey: '7LooCk9q1dw58JOioqVQqjdF',
        placeholder: 'leave me a message if you have any ideas',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("XOukbbhKSkdciduEqvUYSt7V-gzGzoHsz", "96TpEmXs1x4fDMH0A91s7vhT");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
